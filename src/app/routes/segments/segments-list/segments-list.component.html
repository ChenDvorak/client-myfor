<div class="div-segments-base">
  <!-- 主题 -->
  <div class="div-row-title" nz-row>
    <div class="div-title" nz-col>
      <a routerLink="/">
        <img src="assets/images/myFor.png" alt="myFor" width="80px">
      </a>
      <span class="spn-title">段子</span>
      <button class="btn" (click)="writeNewSegment()">写新段子</button>
    </div>
    <div class="div-new" *ngIf="writeSegment">
      <form class="fom-new" [formGroup]="newSegmentForm">
        <input type="text" formControlName="nickName" placeholder="昵称"/>
        <div class="div-new-segment-tip">
          <!-- <span class="error" *ngIf="isNickNameInvalid">太短</span> -->
          <span style="color: #aaa;">昵称最短两位</span>
        </div>
        <textarea rows="5" placeholder="内容" formControlName="content"></textarea>
        <div class="div-new-segment-actions">
          <button class="btn btn-raised" type="button" [disabled]="isSubmitDisabled" (click)="submitSegment()">提交</button>
          <span class="error" *ngIf="isContentInvalid">太短</span>
        </div>
      </form>
    </div>
  </div>
  <div class="div-list">
    <div class="div-order">
      <a href="javascript:;" (click)="orderChange('week')">一周热门</a>
      <a href="javascript:;" (click)="orderChange('')">最新</a>
    </div>
    <ul class="ul-segments">
      <li class="li-segment" *ngFor="let segment of segments">
        <div class="div-segment-item">
          <div class="div-nickname">{{segment.nickName}}</div>
          <div class="div-content">{{segment.content}}</div>
          <div class="div-date">
            <span class="spn-date">{{segment.date}}</span>
            <button class="btn-primary" id="btn_{{segment.id}}" (click)="like(segment.id)">like : {{segment.likes}}</button>
          </div>
        </div>
      </li>
    </ul>
    <div class="div-pagination">
      <nz-pagination [(nzPageIndex)]="index" [nzTotal]="totalRows" [nzPageSize]="20" [nzSize]="'small'"
        (nzPageIndexChange)="pageChange($event)">
      </nz-pagination>
    </div>
  </div>
</div>
